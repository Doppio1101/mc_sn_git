# Git 



## 0. 설치

- [Git](https://git-scm.com) 에서 Git을 다운로드 받은 후 `Git Bash`를 들어간다.
- 터미널에 들어가서 잘 설치 되어있는지 `git`을 입력하여 확인한다.



## 1. 버전관리의 시작

- 깃 작업을 해줄 디렉토리를 `mkdir "디렉토리명"`으로 생성해준다.
- 작업할 디렉토리로 `cd "디렉토리 명"`으로 들어간 뒤 버전관리 시작하는 명령어 `git init .`을 입력해준다.



## 2. 버전 생성

- 버전으로 만들어지기 전 단계를 `Working tree`라고 한다.
  - 파일을 만들고 수정한다.
- `Repository`에 버전이 저장된다.(저장소) -> 만들어진 버전
- `Staging Area`는  버전을 만들려고 할 때, 지정한 파일로만 하나의 버전으로 만들 때 올려두는 곳이다. -> 버전을 만드려고 하는 파일들
  - 버전을 만들라고 명령이 들어오면 Staging Area 위에 있는 지정한 파일들로만 하나의 버전으로 만들어 Repository에 넣는다.



- `git status`를 입력하면 `commit`된 상태를 보여주고 추적되지 않는 파일을 알려준다.
- `git add "파일명"` 을 입력하면 Staging Area에 올라가고 `git status`를 입력하면 버전을 만들 준비가 되어있음을 알 수 있다.
- `git commit -m "버전이름"`을 입력해서 버전을 만든다.
- `git log`를 입력해서 지금까지의 버전을 확인한다.
- 한 번이라도 버전관리가 된 파일이면 깃은 그 파일을 기억하고 있지만,  한 번도 버전관리가 안 된 파일이면 선택되지 않았다고 알려준다.
- 수정된 파일이거나 새로 만들어진 파일은 항상 `git add "파일명"`을 해준다.
- 이때, `git status`를 해주면 새로 Staging Area로 들어온 파일은 `new`로 알려준다.
- 한 버전마다 어떤 파일이 연루되어 있는 확인 하기 위해서 `git log --state`를 하면 어떻게 변형됐는지 알 수 있다.



## 3. 버전간의 차이점 비교

- `git diff`를 입력하면 초록색으로 되어있는 부분은 추가됐고 마지막 버전에서 없어진 부분을 빨간색으로 보여준다.
- 작업한 걸 버리고 싶다면 `git reset --hard`를 입력하면 마지막 버전이 사라지고 이전의 상태로 돌아간다.
- `git log -p`를 입력하면 각 버전마다 버전이후에 뭐가 바꼈는지  알 수 있다. 



## 4. checkout과 시간여행

> checkout은 특정 버전으로 working tree를 변경시키는 방법. 이를 통해서 버전과 버전을 넘나드는 방법을 소개.

- `HEAD -> master` 헤드가 마스터를 가리키고 있다는 것은 현재 상태가 최신버전을 가리키고 있다는 것.
- 돌아가고 싶은 커밋아이디를 카피해서 `git checkout "커밋아이디"`를 하면 커밋아이디가 가리키는 버전을 만든 시점으로 돌아간다.
  - 이때, 그 당시의 없던 파일은 지워진다. 헤드가 움직여서 과거 상태를 가리킨다.
- 다시 최신 버전으로 돌아오기 위해서는 `git checkout master`



## 5. 보충수업

> add를 커밋할 때마다 하지 않는 방법, commit 메시지를 작설할 때 실행되는 기본 에디터를 변경하는 방법 등을 소개.

- `git add "파일이름"` 을 `git commit -m "버전 이름"`입력 할 때마다 썼었는데 `git add .`을 하면 현재 디렉토리 밑에 있는 모든 파일을 모두 `add`한다.
- 또는 `git add "디렉토리"`를 하면 그 디렉토리 밑에 있는 모든 파일을 `add`한다.
- `git add`를 하지 않고 `git commit -am "버전 이름"`을 하면 `add`와 `commit`이 한 번에 된다. 
- 주의 할 점은 Untracked 상태인 파일은 커밋되지 않는다. -> 단 한 번이라도 `add`를 해서 tracked 상태가 되야지만 추가 해준다. 
  - 우리가 추적하고 싶지 않은 파일이 실수로 추적 되는 사고를 방지할 수 있다.
- `git commit -m "커밋메시지"`에서 -m은 커맨드 라인에서 직접 커밋메시지를 쓸 때 쓰는 것.
- `git commit`은 에디터가 나오는데 그 에디터에서 여러 줄의 커밋메시지를 편하게 작성할 수 있다.
- `git config --global core.editor "사용할 에디터"`를 하면 에디터를 변경할 수 있다.



## 6. 버전 삭제 - git reset

> 버전을 삭제하는 방법

- `git reset --hard "커밋 아이디"`를 하면 입력한 아이디의 버전으로 리셋하겠다.
  - --hard : 모드로 여러 모드가 있다.
  - 협업을 할 때에는 이미 다른 사람과 공유된 버전에 대해서는 리셋하면 안 된다.



## 7. 버전 되돌리기 - git revert

> 버전을 삭제하지 않으면서, 되돌리는 방법.

- 원하는 버전 다음 버전의 아이디를 가지고 온다.
- `git revert 되돌릴 버전 바로 다음 단계 버전 커밋 아이디`
- 자동으로 에디터에 어떤 것을 `revert`했는지 뜬다. 우리는 그 에디터에 왜 `revert`를 했는지 작성한다.

- `git log`를 하면 새로운 커밋이 생긴다. 원래 있던 모든 커밋도 모두 살아있다.
- 즉, 기존의 커밋들은 내버려두고 되도릴 커밋이 새로운 커밋으로 나온다. 
- 주의! 돌아가고 싶은 커밋까지 역순으로 `revert`해야 한다. 커밋이 4개가 있다고 가정하고 최초의 커밋으로 돌아가고 싶으면 가장 최신 커밋부터 역순으로 `revert`를 세 번 해서 가장 최초의 커밋 다음까지 `revert`해야 한다.



## 8. 수업을 마치면서

- 버전관리를 하지 말아야 할 파일은 `.gitignore`이라는 파일을 만들고 파일의 이름을 적으면 된다.
- `branch` 평행우주처럼 우리의 저장소를 여러가지 상태로 공존할 수 있게 해줌.
- `tag`를 쓰면 커밋아이디뿐만 아니라 이해하기 쉬운 이름을 붙일 수 있다.